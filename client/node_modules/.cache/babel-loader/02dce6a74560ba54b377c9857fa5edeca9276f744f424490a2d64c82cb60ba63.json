{"ast":null,"code":"var _jsxFileName = \"C:\\\\Rohin_Gaudycottonwood\\\\college_personal\\\\projects\\\\Code-Collab\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css'; // Ensure this is the revised App.css from the previous step\nimport io from 'socket.io-client';\nimport Editor from '@monaco-editor/react';\nimport SimpleEditor from 'react-simple-code-editor';\n\n// --- PrismJS Setup ---\n// 1. Import the core Prism object first.\nimport Prism from 'prismjs/components/prism-core';\n// 2. Import 'clike' as it's a common dependency.\nimport 'prismjs/components/prism-clike';\n// 3. Then import other languages. Order can sometimes matter if one extends another.\n//    JavaScript extends clike. Python and C are generally standalone or depend on clike.\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-c';\n// 4. Import a theme.\nimport 'prismjs/themes/prism-tomorrow.css'; // Using prism-tomorrow for a dark theme example. Or use your preferred.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SERVER_PORT = 3001;\nconst SERVER_URL = `${window.location.protocol}//${window.location.hostname}:${SERVER_PORT}`;\nconst socket = io(SERVER_URL);\nconst ROOM = 'default';\nconst defaultSnippets = {\n  python: '# Write Python code here\\nprint(\"Hello, Python World!\")',\n  javascript: '// Write JavaScript code here\\nconsole.log(\"Hello, JavaScript World!\");',\n  c: '// Write C code here\\n#include <stdio.h>\\n\\nint main() {\\n  printf(\"Hello, C World!\\\\n\");\\n  return 0;\\n}'\n};\nexport default function App() {\n  _s();\n  const [code, setCode] = useState('');\n  const [output, setOutput] = useState('');\n  const [running, setRunning] = useState(false);\n  const [files, setFiles] = useState([]);\n  const [dragging, setDragging] = useState(false);\n  const [language, setLanguage] = useState('python');\n  const [serverIp, setServerIp] = useState('localhost');\n  const fileInputRef = useRef(null);\n  const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n  useEffect(() => {\n    socket.emit('join', ROOM);\n    socket.on('init', ({\n      code: initialCode,\n      ip,\n      roomLanguage\n    }) => {\n      setServerIp(ip);\n      const currentLang = roomLanguage || language;\n      setLanguage(currentLang);\n      let displayCode = `# Connect at http://${ip}:${window.location.port || 3000}\\n# Language: ${currentLang}\\n\\n`;\n      if (initialCode) {\n        displayCode += initialCode;\n      } else {\n        displayCode += defaultSnippets[currentLang] || `// Code for ${currentLang}`;\n      }\n      setCode(displayCode);\n    });\n    socket.on('code', updatedCode => {\n      setCode(prevCode => {\n        const headerMatch = prevCode.match(/^# Connect at.*\\n# Language:.*\\n\\n/);\n        const header = headerMatch ? headerMatch[0] : '';\n        return header + updatedCode;\n      });\n    });\n    socket.on('output', data => setOutput(prev => prev + data));\n    socket.on('done', () => setRunning(false));\n    socket.on('file-list', fileList => setFiles(fileList));\n    socket.on('roomLanguageChanged', ({\n      language: newLanguage,\n      code: newCode\n    }) => {\n      setLanguage(newLanguage);\n      const header = `# Connect at http://${serverIp}:${window.location.port || 3000}\\n# Language: ${newLanguage}\\n\\n`;\n      setCode(header + (newCode || defaultSnippets[newLanguage] || `// Code for ${newLanguage}`));\n    });\n    return () => {\n      socket.off('init');\n      socket.off('code');\n      socket.off('output');\n      socket.off('done');\n      socket.off('file-list');\n      socket.off('roomLanguageChanged');\n    };\n  }, [language, serverIp]); // Added language and serverIp as dependencies\n\n  const handleEditorChange = value => {\n    const headerMatch = value.match(/^# Connect at.*\\n# Language:.*\\n\\n/);\n    const codeOnly = headerMatch ? value.substring(headerMatch[0].length) : value;\n    setCode(value);\n    socket.emit('code', {\n      room: ROOM,\n      value: codeOnly,\n      language: language\n    });\n  };\n  const runCode = () => {\n    setOutput('');\n    setRunning(true);\n    const headerMatch = code.match(/^# Connect at.*\\n# Language:.*\\n\\n/);\n    const codeToRun = headerMatch ? code.substring(headerMatch[0].length) : code;\n    socket.emit('compile', {\n      room: ROOM,\n      language: language,\n      code: codeToRun\n    });\n  };\n  const uploadFile = async file => {\n    if (!file) return;\n    const form = new FormData();\n    form.append('file', file);\n    try {\n      await fetch(`${SERVER_URL}/upload`, {\n        method: 'POST',\n        body: form\n      });\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    } catch (err) {\n      console.error('Upload failed', err);\n      setOutput(prev => prev + `Error uploading file: ${err.message}\\n`);\n    }\n  };\n  const onFileInputChange = e => {\n    const file = e.target.files && e.target.files[0];\n    if (file) uploadFile(file);\n  };\n  const clearFiles = async () => {\n    try {\n      await fetch(`${SERVER_URL}/clear-files`, {\n        method: 'DELETE'\n      });\n      // setOutput(''); // Optionally clear output\n    } catch (err) {\n      console.error('Clear files failed', err);\n      setOutput(prev => prev + `Error clearing files: ${err.message}\\n`);\n    }\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    setDragging(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    setDragging(false);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    setDragging(false);\n    const file = e.dataTransfer.files && e.dataTransfer.files[0];\n    if (file) uploadFile(file);\n  };\n\n  // Syntax highlighting for SimpleEditor (mobile)\n  const highlightCodeWithPrism = codeToHighlight => {\n    // Ensure the language component is loaded in Prism.languages\n    if (Prism.languages[language]) {\n      return Prism.highlight(codeToHighlight, Prism.languages[language], language);\n    }\n    return codeToHighlight; // Fallback if language not found\n  };\n  const handleLanguageChange = newLanguage => {\n    setLanguage(newLanguage);\n    const header = `# Connect at http://${serverIp}:${window.location.port || 3000}\\n# Language: ${newLanguage}\\n\\n`;\n    const newDefaultCode = defaultSnippets[newLanguage] || `// Code for ${newLanguage}`;\n    const fullCode = header + newDefaultCode;\n    setCode(fullCode);\n    setOutput('');\n    if (socket.connected) {\n      socket.emit('languageChange', {\n        room: ROOM,\n        language: newLanguage,\n        defaultCode: newDefaultCode\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-split\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-pane\",\n        children: isMobile ? /*#__PURE__*/_jsxDEV(SimpleEditor, {\n          value: code,\n          onValueChange: handleEditorChange,\n          highlight: highlightCodeWithPrism // Use the updated Prism highlighter\n          ,\n          padding: 12,\n          className: \"mobile-editor\" // Added className for specific mobile styling\n          ,\n          style: {\n            // Basic inline styles, prefer App.css for more complex ones\n            width: '100%',\n            height: '100%',\n            fontFamily: 'monospace',\n            fontSize: 14,\n            overflow: 'auto'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Editor, {\n          height: \"100%\",\n          language: language,\n          value: code,\n          onChange: handleEditorChange,\n          theme: \"vs-dark\",\n          options: {\n            wordWrap: 'on',\n            minimap: {\n              enabled: true\n            },\n            fontSize: 14\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"output-pane\",\n        children: /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: output\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: language,\n        onChange: e => handleLanguageChange(e.target.value),\n        className: \"language-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"python\",\n          children: \"Python\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"javascript\",\n          children: \"JavaScript\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"c\",\n          children: \"C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: runCode,\n        disabled: running,\n        className: \"run-button\",\n        children: running ? '…Running' : 'Run'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: fileInputRef,\n        onChange: onFileInputChange,\n        style: {\n          display: 'none'\n        },\n        id: \"fileUploadInput\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => fileInputRef.current && fileInputRef.current.click(),\n        className: \"upload-button\",\n        children: \"Upload File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearFiles,\n        className: \"clear-button\",\n        children: \"Clear Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `shared-files${dragging ? ' drag-over' : ''}`,\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave,\n      onDrop: handleDrop,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Shared Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), files.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No files shared yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: files.map((f, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `${SERVER_URL}${f.url}`,\n            download: f.originalname,\n            children: f.originalname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"drop-hint\",\n        children: dragging ? 'Release to upload' : 'Drag & drop a file here, or use the upload button above'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"/F56hVm5DKZ5jxX1kXJPivYFbdw=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","Editor","SimpleEditor","Prism","jsxDEV","_jsxDEV","SERVER_PORT","SERVER_URL","window","location","protocol","hostname","socket","ROOM","defaultSnippets","python","javascript","c","App","_s","code","setCode","output","setOutput","running","setRunning","files","setFiles","dragging","setDragging","language","setLanguage","serverIp","setServerIp","fileInputRef","isMobile","test","navigator","userAgent","emit","on","initialCode","ip","roomLanguage","currentLang","displayCode","port","updatedCode","prevCode","headerMatch","match","header","data","prev","fileList","newLanguage","newCode","off","handleEditorChange","value","codeOnly","substring","length","room","runCode","codeToRun","uploadFile","file","form","FormData","append","fetch","method","body","current","err","console","error","message","onFileInputChange","e","target","clearFiles","handleDragOver","preventDefault","handleDragLeave","handleDrop","dataTransfer","highlightCodeWithPrism","codeToHighlight","languages","highlight","handleLanguageChange","newDefaultCode","fullCode","connected","defaultCode","className","children","onValueChange","padding","style","width","height","fontFamily","fontSize","overflow","fileName","_jsxFileName","lineNumber","columnNumber","onChange","theme","options","wordWrap","minimap","enabled","onClick","disabled","type","ref","display","id","click","onDragOver","onDragLeave","onDrop","map","f","i","href","url","download","originalname","_c","$RefreshReg$"],"sources":["C:/Rohin_Gaudycottonwood/college_personal/projects/Code-Collab/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './App.css'; // Ensure this is the revised App.css from the previous step\r\nimport io from 'socket.io-client';\r\nimport Editor from '@monaco-editor/react';\r\nimport SimpleEditor from 'react-simple-code-editor';\r\n\r\n// --- PrismJS Setup ---\r\n// 1. Import the core Prism object first.\r\nimport Prism from 'prismjs/components/prism-core';\r\n// 2. Import 'clike' as it's a common dependency.\r\nimport 'prismjs/components/prism-clike';\r\n// 3. Then import other languages. Order can sometimes matter if one extends another.\r\n//    JavaScript extends clike. Python and C are generally standalone or depend on clike.\r\nimport 'prismjs/components/prism-javascript';\r\nimport 'prismjs/components/prism-python';\r\nimport 'prismjs/components/prism-c';\r\n// 4. Import a theme.\r\nimport 'prismjs/themes/prism-tomorrow.css'; // Using prism-tomorrow for a dark theme example. Or use your preferred.\r\n\r\nconst SERVER_PORT = 3001;\r\nconst SERVER_URL = `${window.location.protocol}//${window.location.hostname}:${SERVER_PORT}`;\r\nconst socket = io(SERVER_URL);\r\nconst ROOM = 'default';\r\n\r\nconst defaultSnippets = {\r\n  python: '# Write Python code here\\nprint(\"Hello, Python World!\")',\r\n  javascript: '// Write JavaScript code here\\nconsole.log(\"Hello, JavaScript World!\");',\r\n  c: '// Write C code here\\n#include <stdio.h>\\n\\nint main() {\\n  printf(\"Hello, C World!\\\\n\");\\n  return 0;\\n}',\r\n};\r\n\r\nexport default function App() {\r\n  const [code, setCode] = useState('');\r\n  const [output, setOutput] = useState('');\r\n  const [running, setRunning] = useState(false);\r\n  const [files, setFiles] = useState([]);\r\n  const [dragging, setDragging] = useState(false);\r\n  const [language, setLanguage] = useState('python');\r\n  const [serverIp, setServerIp] = useState('localhost');\r\n\r\n  const fileInputRef = useRef(null);\r\n  const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n\r\n  useEffect(() => {\r\n    socket.emit('join', ROOM);\r\n\r\n    socket.on('init', ({ code: initialCode, ip, roomLanguage }) => {\r\n      setServerIp(ip);\r\n      const currentLang = roomLanguage || language;\r\n      setLanguage(currentLang);\r\n\r\n      let displayCode = `# Connect at http://${ip}:${window.location.port || 3000}\\n# Language: ${currentLang}\\n\\n`;\r\n      if (initialCode) {\r\n        displayCode += initialCode;\r\n      } else {\r\n        displayCode += defaultSnippets[currentLang] || `// Code for ${currentLang}`;\r\n      }\r\n      setCode(displayCode);\r\n    });\r\n\r\n    socket.on('code', (updatedCode) => {\r\n      setCode(prevCode => {\r\n        const headerMatch = prevCode.match(/^# Connect at.*\\n# Language:.*\\n\\n/);\r\n        const header = headerMatch ? headerMatch[0] : '';\r\n        return header + updatedCode;\r\n      });\r\n    });\r\n\r\n    socket.on('output', (data) => setOutput((prev) => prev + data));\r\n    socket.on('done', () => setRunning(false));\r\n    socket.on('file-list', (fileList) => setFiles(fileList));\r\n\r\n    socket.on('roomLanguageChanged', ({ language: newLanguage, code: newCode }) => {\r\n      setLanguage(newLanguage);\r\n      const header = `# Connect at http://${serverIp}:${window.location.port || 3000}\\n# Language: ${newLanguage}\\n\\n`;\r\n      setCode(header + (newCode || defaultSnippets[newLanguage] || `// Code for ${newLanguage}`));\r\n    });\r\n\r\n    return () => {\r\n      socket.off('init');\r\n      socket.off('code');\r\n      socket.off('output');\r\n      socket.off('done');\r\n      socket.off('file-list');\r\n      socket.off('roomLanguageChanged');\r\n    };\r\n  }, [language, serverIp]); // Added language and serverIp as dependencies\r\n\r\n  const handleEditorChange = (value) => {\r\n    const headerMatch = value.match(/^# Connect at.*\\n# Language:.*\\n\\n/);\r\n    const codeOnly = headerMatch ? value.substring(headerMatch[0].length) : value;\r\n    setCode(value);\r\n    socket.emit('code', { room: ROOM, value: codeOnly, language: language });\r\n  };\r\n\r\n  const runCode = () => {\r\n    setOutput('');\r\n    setRunning(true);\r\n    const headerMatch = code.match(/^# Connect at.*\\n# Language:.*\\n\\n/);\r\n    const codeToRun = headerMatch ? code.substring(headerMatch[0].length) : code;\r\n    socket.emit('compile', { room: ROOM, language: language, code: codeToRun });\r\n  };\r\n\r\n  const uploadFile = async (file) => {\r\n    if (!file) return;\r\n    const form = new FormData();\r\n    form.append('file', file);\r\n    try {\r\n      await fetch(`${SERVER_URL}/upload`, { method: 'POST', body: form });\r\n      if (fileInputRef.current) fileInputRef.current.value = '';\r\n    } catch (err) {\r\n      console.error('Upload failed', err);\r\n      setOutput((prev) => prev + `Error uploading file: ${err.message}\\n`);\r\n    }\r\n  };\r\n\r\n  const onFileInputChange = (e) => {\r\n    const file = e.target.files && e.target.files[0];\r\n    if (file) uploadFile(file);\r\n  };\r\n\r\n  const clearFiles = async () => {\r\n    try {\r\n      await fetch(`${SERVER_URL}/clear-files`, { method: 'DELETE' });\r\n      // setOutput(''); // Optionally clear output\r\n    } catch (err) {\r\n      console.error('Clear files failed', err);\r\n      setOutput((prev) => prev + `Error clearing files: ${err.message}\\n`);\r\n    }\r\n  };\r\n\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n    setDragging(true);\r\n  };\r\n  const handleDragLeave = (e) => {\r\n    e.preventDefault();\r\n    setDragging(false);\r\n  };\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    setDragging(false);\r\n    const file = e.dataTransfer.files && e.dataTransfer.files[0];\r\n    if (file) uploadFile(file);\r\n  };\r\n\r\n  // Syntax highlighting for SimpleEditor (mobile)\r\n  const highlightCodeWithPrism = (codeToHighlight) => {\r\n    // Ensure the language component is loaded in Prism.languages\r\n    if (Prism.languages[language]) {\r\n      return Prism.highlight(codeToHighlight, Prism.languages[language], language);\r\n    }\r\n    return codeToHighlight; // Fallback if language not found\r\n  };\r\n\r\n  const handleLanguageChange = (newLanguage) => {\r\n    setLanguage(newLanguage);\r\n    const header = `# Connect at http://${serverIp}:${window.location.port || 3000}\\n# Language: ${newLanguage}\\n\\n`;\r\n    const newDefaultCode = defaultSnippets[newLanguage] || `// Code for ${newLanguage}`;\r\n    const fullCode = header + newDefaultCode;\r\n    setCode(fullCode);\r\n    setOutput('');\r\n\r\n    if (socket.connected) {\r\n      socket.emit('languageChange', {\r\n        room: ROOM,\r\n        language: newLanguage,\r\n        defaultCode: newDefaultCode,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"top-split\">\r\n        <div className=\"editor-pane\">\r\n          {isMobile ? (\r\n            <SimpleEditor\r\n              value={code}\r\n              onValueChange={handleEditorChange}\r\n              highlight={highlightCodeWithPrism} // Use the updated Prism highlighter\r\n              padding={12}\r\n              className=\"mobile-editor\" // Added className for specific mobile styling\r\n              style={{ // Basic inline styles, prefer App.css for more complex ones\r\n                width: '100%',\r\n                height: '100%',\r\n                fontFamily: 'monospace',\r\n                fontSize: 14,\r\n                overflow: 'auto'\r\n              }}\r\n            />\r\n          ) : (\r\n            <Editor\r\n              height=\"100%\"\r\n              language={language}\r\n              value={code}\r\n              onChange={handleEditorChange}\r\n              theme=\"vs-dark\"\r\n              options={{\r\n                wordWrap: 'on',\r\n                minimap: { enabled: true },\r\n                fontSize: 14,\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"output-pane\">\r\n          <pre>{output}</pre>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"controls\">\r\n        <select value={language} onChange={(e) => handleLanguageChange(e.target.value)} className=\"language-selector\">\r\n          <option value=\"python\">Python</option>\r\n          <option value=\"javascript\">JavaScript</option>\r\n          <option value=\"c\">C</option>\r\n        </select>\r\n        <button onClick={runCode} disabled={running} className=\"run-button\">\r\n          {running ? '…Running' : 'Run'}\r\n        </button>\r\n        <input type=\"file\" ref={fileInputRef} onChange={onFileInputChange} style={{ display: 'none' }} id=\"fileUploadInput\" />\r\n        <button onClick={() => fileInputRef.current && fileInputRef.current.click()} className=\"upload-button\">\r\n          Upload File\r\n        </button>\r\n        <button onClick={clearFiles} className=\"clear-button\">\r\n          Clear Files\r\n        </button>\r\n      </div>\r\n\r\n      <div\r\n        className={`shared-files${dragging ? ' drag-over' : ''}`}\r\n        onDragOver={handleDragOver}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n      >\r\n        <h4>Shared Files</h4>\r\n        {files.length === 0 ? (\r\n          <p>No files shared yet.</p>\r\n        ) : (\r\n          <ul>\r\n            {files.map((f, i) => (\r\n              <li key={i}>\r\n                <a href={`${SERVER_URL}${f.url}`} download={f.originalname}>\r\n                  {f.originalname}\r\n                </a>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n        <p className=\"drop-hint\">\r\n          {dragging\r\n            ? 'Release to upload'\r\n            : 'Drag & drop a file here, or use the upload button above'}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}